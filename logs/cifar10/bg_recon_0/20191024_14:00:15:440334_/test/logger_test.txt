2020-02-11 13:05:05 INFO: name: 20191024_14:00:15:440334_
2020-02-11 13:05:05 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-11 13:05:05 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-11 13:05:05 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-11 13:05:05 INFO: Using dataset: cifar10
2020-02-11 13:05:05 INFO: BUILD TEST GRAPH
2020-02-11 13:05:05 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-11 13:05:05 INFO: Overwrite dataset info from restored data version.
2020-02-11 13:05:05 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-11 13:05:05 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-11 13:05:07 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-11 13:05:07 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-11 13:05:07 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-11 13:05:07 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-11 13:05:07 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-11 13:05:07 INFO: input shape: (2, 32, 32, 3)
2020-02-11 13:05:07 INFO: Scale of 0 disables regularizer.
2020-02-11 13:05:14 INFO: relu_conv1 output shape: (2, 16, 16, 128)
2020-02-11 13:05:15 INFO: primary_caps pose shape: (2, 16, 16, 24, 16)
2020-02-11 13:05:15 INFO: primary_caps activation shape (2, 16, 16, 24, 1)
2020-02-11 13:05:15 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-11 13:05:15 INFO: lyr.conv_caps1 votes shape: (98, 216, 24, 16)
2020-02-11 13:05:15 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-11 13:05:15 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-11 13:05:15 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-11 13:05:15 INFO: lyr.conv_caps1 pose_out shape: (2, 7, 7, 24, 16)
2020-02-11 13:05:15 INFO: lyr.conv_caps1 activation_out shape: (2, 7, 7, 24, 1)
2020-02-11 13:05:15 INFO: lyr.conv_caps2 votes shape: (50, 216, 32, 16)
2020-02-11 13:05:15 INFO: lyr.conv_caps2 pose_out shape: (2, 5, 5, 32, 16)
2020-02-11 13:05:15 INFO: lyr.conv_caps2 activation_out shape: (2, 5, 5, 32, 1)
2020-02-11 13:05:15 INFO: class_caps votes original shape: (50, 32, 10, 16)
2020-02-11 13:05:15 INFO: class_caps votes in to routing shape: (2, 800, 10, 16)
2020-02-11 13:05:15 INFO: class_caps activation shape: (2, 10)
2020-02-11 13:05:15 INFO: class_caps pose shape: (2, 10, 16)
2020-02-11 13:05:16 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-11 13:05:16 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-11 13:05:16 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-11 13:05:16 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-11 13:05:16 CRITICAL: Traceback (most recent call last):
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/client/session.py", line 1356, in _do_call
    return fn(*args)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/client/session.py", line 1341, in _run_fn
    options, feed_dict, fetch_list, target_list, run_metadata)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/client/session.py", line 1429, in _call_tf_sessionrun
    run_metadata)
tensorflow.python.framework.errors_impl.NotFoundError: 2 root error(s) found.
  (0) Not found: Key patch_params not found in checkpoint
	 [[{{node save/RestoreV2}}]]
	 [[save/RestoreV2/_51]]
  (1) Not found: Key patch_params not found in checkpoint
	 [[{{node save/RestoreV2}}]]
0 successful operations.
0 derived errors ignored.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py", line 1286, in restore
    {self.saver_def.filename_tensor_name: save_path})
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/client/session.py", line 950, in run
    run_metadata_ptr)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/client/session.py", line 1173, in _run
    feed_dict_tensor, options, run_metadata)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/client/session.py", line 1350, in _do_run
    run_metadata)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/client/session.py", line 1370, in _do_call
    raise type(e)(node_def, op, message)
tensorflow.python.framework.errors_impl.NotFoundError: 2 root error(s) found.
  (0) Not found: Key patch_params not found in checkpoint
	 [[node save/RestoreV2 (defined at inspect_results.py:171) ]]
	 [[save/RestoreV2/_51]]
  (1) Not found: Key patch_params not found in checkpoint
	 [[node save/RestoreV2 (defined at inspect_results.py:171) ]]
0 successful operations.
0 derived errors ignored.

Original stack trace for 'save/RestoreV2':
  File "inspect_results.py", line 321, in <module>
    tf.app.run()
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/platform/app.py", line 40, in run
    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 300, in run
    _run_main(main, args)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 251, in _run_main
    sys.exit(main(argv))
  File "inspect_results.py", line 171, in main
    saver = tf.train.Saver(max_to_keep=None)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py", line 825, in __init__
    self.build()
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py", line 837, in build
    self._build(self._filename, build_save=True, build_restore=True)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py", line 875, in _build
    build_restore=build_restore)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py", line 508, in _build_internal
    restore_sequentially, reshape)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py", line 328, in _AddRestoreOps
    restore_sequentially)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py", line 575, in bulk_restore
    return io_ops.restore_v2(filename_tensor, names, slices, dtypes)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/ops/gen_io_ops.py", line 1696, in restore_v2
    name=name)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/framework/op_def_library.py", line 788, in _apply_op_helper
    op_def=op_def)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/util/deprecation.py", line 507, in new_func
    return func(*args, **kwargs)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/framework/ops.py", line 3616, in create_op
    op_def=op_def)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/framework/ops.py", line 2005, in __init__
    self._traceback = tf_stack.extract_stack()


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py", line 1296, in restore
    names_to_keys = object_graph_key_mapping(save_path)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py", line 1614, in object_graph_key_mapping
    object_graph_string = reader.get_tensor(trackable.OBJECT_GRAPH_PROTO_KEY)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow_internal.py", line 678, in get_tensor
    return CheckpointReader_GetTensor(self, compat.as_bytes(tensor_str))
tensorflow.python.framework.errors_impl.NotFoundError: Key _CHECKPOINTABLE_OBJECT_GRAPH not found in checkpoint

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "inspect_results.py", line 321, in <module>
    tf.app.run()
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/platform/app.py", line 40, in run
    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 300, in run
    _run_main(main, args)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 251, in _run_main
    sys.exit(main(argv))
  File "inspect_results.py", line 233, in main
    saver.restore(sess_test, ckpt)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py", line 1302, in restore
    err, "a Variable name or other graph key that is missing")
tensorflow.python.framework.errors_impl.NotFoundError: Restoring from checkpoint failed. This is most likely due to a Variable name or other graph key that is missing from the checkpoint. Please ensure that you have not altered the graph expected based on the checkpoint. Original error:

2 root error(s) found.
  (0) Not found: Key patch_params not found in checkpoint
	 [[node save/RestoreV2 (defined at inspect_results.py:171) ]]
	 [[save/RestoreV2/_51]]
  (1) Not found: Key patch_params not found in checkpoint
	 [[node save/RestoreV2 (defined at inspect_results.py:171) ]]
0 successful operations.
0 derived errors ignored.

Original stack trace for 'save/RestoreV2':
  File "inspect_results.py", line 321, in <module>
    tf.app.run()
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/platform/app.py", line 40, in run
    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 300, in run
    _run_main(main, args)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 251, in _run_main
    sys.exit(main(argv))
  File "inspect_results.py", line 171, in main
    saver = tf.train.Saver(max_to_keep=None)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py", line 825, in __init__
    self.build()
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py", line 837, in build
    self._build(self._filename, build_save=True, build_restore=True)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py", line 875, in _build
    build_restore=build_restore)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py", line 508, in _build_internal
    restore_sequentially, reshape)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py", line 328, in _AddRestoreOps
    restore_sequentially)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py", line 575, in bulk_restore
    return io_ops.restore_v2(filename_tensor, names, slices, dtypes)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/ops/gen_io_ops.py", line 1696, in restore_v2
    name=name)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/framework/op_def_library.py", line 788, in _apply_op_helper
    op_def=op_def)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/util/deprecation.py", line 507, in new_func
    return func(*args, **kwargs)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/framework/ops.py", line 3616, in create_op
    op_def=op_def)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/framework/ops.py", line 2005, in __init__
    self._traceback = tf_stack.extract_stack()


2020-02-13 15:06:20 INFO: name: 20191024_14:00:15:440334_
2020-02-13 15:06:20 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-13 15:06:20 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-13 15:06:20 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-13 15:06:20 INFO: Using dataset: cifar10
2020-02-13 15:06:20 INFO: BUILD TEST GRAPH
2020-02-13 15:06:20 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-13 15:06:20 INFO: Overwrite dataset info from restored data version.
2020-02-13 15:06:21 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-13 15:06:21 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-13 15:06:22 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-13 15:06:22 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-13 15:06:22 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-13 15:06:22 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-13 15:06:22 INFO: input shape: (2, 32, 32, 3)
2020-02-13 15:06:22 INFO: Scale of 0 disables regularizer.
2020-02-13 15:06:22 INFO: relu_conv1 output shape: (2, 16, 16, 128)
2020-02-13 15:06:22 INFO: primary_caps pose shape: (2, 16, 16, 24, 16)
2020-02-13 15:06:22 INFO: primary_caps activation shape (2, 16, 16, 24, 1)
2020-02-13 15:06:22 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-13 15:06:22 INFO: lyr.conv_caps1 votes shape: (98, 216, 24, 16)
2020-02-13 15:06:22 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-13 15:06:22 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-13 15:06:22 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-13 15:06:22 INFO: lyr.conv_caps1 pose_out shape: (2, 7, 7, 24, 16)
2020-02-13 15:06:22 INFO: lyr.conv_caps1 activation_out shape: (2, 7, 7, 24, 1)
2020-02-13 15:06:22 INFO: lyr.conv_caps2 votes shape: (50, 216, 32, 16)
2020-02-13 15:06:23 INFO: lyr.conv_caps2 pose_out shape: (2, 5, 5, 32, 16)
2020-02-13 15:06:23 INFO: lyr.conv_caps2 activation_out shape: (2, 5, 5, 32, 1)
2020-02-13 15:06:23 INFO: class_caps votes original shape: (50, 32, 10, 16)
2020-02-13 15:06:23 INFO: class_caps votes in to routing shape: (2, 800, 10, 16)
2020-02-13 15:06:23 INFO: class_caps activation shape: (2, 10)
2020-02-13 15:06:23 INFO: class_caps pose shape: (2, 10, 16)
2020-02-13 15:06:23 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-13 15:06:23 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-13 15:06:23 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-13 15:06:23 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-13 15:06:30 CRITICAL: Traceback (most recent call last):
  File "inspect_results.py", line 322, in <module>
    tf.app.run()
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/platform/app.py", line 40, in run
    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 300, in run
    _run_main(main, args)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 251, in _run_main
    sys.exit(main(argv))
  File "inspect_results.py", line 263, in main
    if patch_dims[-1] == 1:
UnboundLocalError: local variable 'patch_dims' referenced before assignment

2020-02-13 21:20:14 INFO: name: 20191024_14:00:15:440334_
2020-02-13 21:20:14 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-13 21:20:14 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-13 21:20:14 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-13 21:20:14 INFO: Using dataset: cifar10
2020-02-13 21:20:14 INFO: BUILD TEST GRAPH
2020-02-13 21:20:14 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-13 21:20:14 INFO: Overwrite dataset info from restored data version.
2020-02-13 21:20:15 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-13 21:20:15 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-13 21:20:16 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-13 21:20:16 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-13 21:20:16 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-13 21:20:16 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-13 21:20:16 INFO: input shape: (2, 32, 32, 3)
2020-02-13 21:20:16 INFO: Scale of 0 disables regularizer.
2020-02-13 21:20:17 INFO: relu_conv1 output shape: (2, 16, 16, 128)
2020-02-13 21:20:17 INFO: primary_caps pose shape: (2, 16, 16, 24, 16)
2020-02-13 21:20:17 INFO: primary_caps activation shape (2, 16, 16, 24, 1)
2020-02-13 21:20:17 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-13 21:20:17 INFO: lyr.conv_caps1 votes shape: (98, 216, 24, 16)
2020-02-13 21:20:17 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-13 21:20:17 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-13 21:20:17 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-13 21:20:17 INFO: lyr.conv_caps1 pose_out shape: (2, 7, 7, 24, 16)
2020-02-13 21:20:17 INFO: lyr.conv_caps1 activation_out shape: (2, 7, 7, 24, 1)
2020-02-13 21:20:17 INFO: lyr.conv_caps2 votes shape: (50, 216, 32, 16)
2020-02-13 21:20:17 INFO: lyr.conv_caps2 pose_out shape: (2, 5, 5, 32, 16)
2020-02-13 21:20:17 INFO: lyr.conv_caps2 activation_out shape: (2, 5, 5, 32, 1)
2020-02-13 21:20:17 INFO: class_caps votes original shape: (50, 32, 10, 16)
2020-02-13 21:20:17 INFO: class_caps votes in to routing shape: (2, 800, 10, 16)
2020-02-13 21:20:17 INFO: class_caps activation shape: (2, 10)
2020-02-13 21:20:17 INFO: class_caps pose shape: (2, 10, 16)
2020-02-13 21:20:17 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-13 21:20:18 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-13 21:20:18 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-13 21:20:18 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-13 21:33:11 INFO: writing to csv
2020-02-13 21:33:12 INFO: csv saved at logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test/recon_losses.csv
2020-02-14 15:03:05 INFO: name: 20191024_14:00:15:440334_
2020-02-14 15:03:05 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-14 15:03:05 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-14 15:03:05 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-14 15:03:05 INFO: Using dataset: cifar10
2020-02-14 15:03:05 INFO: BUILD TEST GRAPH
2020-02-14 15:03:05 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-14 15:03:05 INFO: Overwrite dataset info from restored data version.
2020-02-14 15:03:05 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-14 15:03:05 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-14 15:03:07 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-14 15:03:07 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-14 15:03:07 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-14 15:03:07 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-14 15:03:07 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-14 15:03:07 INFO: input shape: (5, 32, 32, 3)
2020-02-14 15:03:07 INFO: Scale of 0 disables regularizer.
2020-02-14 15:03:07 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-14 15:03:07 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-14 15:03:07 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-14 15:03:07 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-14 15:03:08 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-14 15:03:08 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-14 15:03:08 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-14 15:03:08 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-14 15:03:08 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-14 15:03:08 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-14 15:03:08 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-14 15:03:08 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-14 15:03:08 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-14 15:03:08 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-14 15:03:08 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-14 15:03:08 INFO: class_caps activation shape: (5, 10)
2020-02-14 15:03:08 INFO: class_caps pose shape: (5, 10, 16)
2020-02-14 15:03:08 INFO: input shape: (5, 32, 32, 3)
2020-02-14 15:03:08 INFO: Scale of 0 disables regularizer.
2020-02-14 15:03:08 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-14 15:03:08 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-14 15:03:08 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-14 15:03:08 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-14 15:03:08 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-14 15:03:08 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-14 15:03:09 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-14 15:03:09 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-14 15:03:09 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-14 15:03:09 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-14 15:03:09 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-14 15:03:09 INFO: class_caps activation shape: (5, 10)
2020-02-14 15:03:09 INFO: class_caps pose shape: (5, 10, 16)
2020-02-14 15:03:09 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-14 15:03:10 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-14 15:03:10 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-14 15:03:10 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-14 15:03:18 CRITICAL: Traceback (most recent call last):
  File "inspect_results.py", line 321, in <module>
    tf.app.run()
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/platform/app.py", line 40, in run
    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 300, in run
    _run_main(main, args)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 251, in _run_main
    sys.exit(main(argv))
  File "inspect_results.py", line 260, in main
    patch = np.asarray(Image.open(FLAGS.patch_path), dtype=np.float32)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/PIL/Image.py", line 2766, in open
    fp = builtins.open(filename, "rb")
FileNotFoundError: [Errno 2] No such file or directory: 'bg0_adv_00train/saved_patch.png'

2020-02-14 15:03:39 INFO: name: 20191024_14:00:15:440334_
2020-02-14 15:03:39 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-14 15:03:39 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-14 15:03:39 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-14 15:03:39 INFO: Using dataset: cifar10
2020-02-14 15:03:39 INFO: BUILD TEST GRAPH
2020-02-14 15:03:39 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-14 15:03:39 INFO: Overwrite dataset info from restored data version.
2020-02-14 15:03:39 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-14 15:03:39 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-14 15:03:39 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-14 15:03:39 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-14 15:03:39 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-14 15:03:39 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-14 15:03:39 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-14 15:03:39 INFO: input shape: (5, 32, 32, 3)
2020-02-14 15:03:39 INFO: Scale of 0 disables regularizer.
2020-02-14 15:03:40 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-14 15:03:40 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-14 15:03:40 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-14 15:03:40 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-14 15:03:40 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-14 15:03:40 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-14 15:03:40 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-14 15:03:40 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-14 15:03:40 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-14 15:03:40 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-14 15:03:40 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-14 15:03:40 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-14 15:03:40 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-14 15:03:40 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-14 15:03:40 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-14 15:03:40 INFO: class_caps activation shape: (5, 10)
2020-02-14 15:03:40 INFO: class_caps pose shape: (5, 10, 16)
2020-02-14 15:03:40 INFO: input shape: (5, 32, 32, 3)
2020-02-14 15:03:40 INFO: Scale of 0 disables regularizer.
2020-02-14 15:03:40 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-14 15:03:41 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-14 15:03:41 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-14 15:03:41 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-14 15:03:41 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-14 15:03:41 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-14 15:03:41 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-14 15:03:41 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-14 15:03:41 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-14 15:03:41 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-14 15:03:41 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-14 15:03:41 INFO: class_caps activation shape: (5, 10)
2020-02-14 15:03:41 INFO: class_caps pose shape: (5, 10, 16)
2020-02-14 15:03:41 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-14 15:03:42 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-14 15:03:42 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-14 15:03:42 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-14 15:03:43 CRITICAL: Traceback (most recent call last):
  File "inspect_results.py", line 321, in <module>
    tf.app.run()
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/platform/app.py", line 40, in run
    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 300, in run
    _run_main(main, args)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 251, in _run_main
    sys.exit(main(argv))
  File "inspect_results.py", line 260, in main
    patch = np.asarray(Image.open(FLAGS.patch_path), dtype=np.float32)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/PIL/Image.py", line 2766, in open
    fp = builtins.open(filename, "rb")
FileNotFoundError: [Errno 2] No such file or directory: 'bg0_adv_05train/saved_patch.png'

2020-02-14 15:03:44 INFO: name: 20191024_14:00:15:440334_
2020-02-14 15:03:44 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-14 15:03:45 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-14 15:03:45 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-14 15:03:45 INFO: Using dataset: cifar10
2020-02-14 15:03:45 INFO: BUILD TEST GRAPH
2020-02-14 15:03:45 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-14 15:03:45 INFO: Overwrite dataset info from restored data version.
2020-02-14 15:03:45 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-14 15:03:45 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-14 15:03:45 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-14 15:03:45 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-14 15:03:45 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-14 15:03:45 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-14 15:03:45 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-14 15:03:45 INFO: input shape: (5, 32, 32, 3)
2020-02-14 15:03:45 INFO: Scale of 0 disables regularizer.
2020-02-14 15:03:45 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-14 15:03:45 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-14 15:03:45 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-14 15:03:45 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-14 15:03:45 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-14 15:03:45 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-14 15:03:45 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-14 15:03:45 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-14 15:03:45 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-14 15:03:45 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-14 15:03:45 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-14 15:03:46 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-14 15:03:46 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-14 15:03:46 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-14 15:03:46 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-14 15:03:46 INFO: class_caps activation shape: (5, 10)
2020-02-14 15:03:46 INFO: class_caps pose shape: (5, 10, 16)
2020-02-14 15:03:46 INFO: input shape: (5, 32, 32, 3)
2020-02-14 15:03:46 INFO: Scale of 0 disables regularizer.
2020-02-14 15:03:46 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-14 15:03:46 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-14 15:03:46 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-14 15:03:46 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-14 15:03:46 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-14 15:03:47 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-14 15:03:47 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-14 15:03:47 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-14 15:03:47 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-14 15:03:47 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-14 15:03:47 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-14 15:03:47 INFO: class_caps activation shape: (5, 10)
2020-02-14 15:03:47 INFO: class_caps pose shape: (5, 10, 16)
2020-02-14 15:03:47 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-14 15:03:47 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-14 15:03:48 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-14 15:03:48 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-14 15:03:48 CRITICAL: Traceback (most recent call last):
  File "inspect_results.py", line 321, in <module>
    tf.app.run()
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/platform/app.py", line 40, in run
    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 300, in run
    _run_main(main, args)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 251, in _run_main
    sys.exit(main(argv))
  File "inspect_results.py", line 260, in main
    patch = np.asarray(Image.open(FLAGS.patch_path), dtype=np.float32)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/PIL/Image.py", line 2766, in open
    fp = builtins.open(filename, "rb")
FileNotFoundError: [Errno 2] No such file or directory: 'bg0_adv_10train/saved_patch.png'

2020-02-16 09:40:00 INFO: name: 20191024_14:00:15:440334_
2020-02-16 09:40:00 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-16 09:40:00 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-16 09:40:00 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-16 09:40:00 INFO: Using dataset: cifar10
2020-02-16 09:40:00 INFO: BUILD TEST GRAPH
2020-02-16 09:40:00 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-16 09:40:00 INFO: Overwrite dataset info from restored data version.
2020-02-16 09:40:00 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-16 09:40:00 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-16 09:40:02 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-16 09:40:02 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-16 09:40:02 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-16 09:40:02 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-16 09:40:02 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-16 09:40:02 INFO: input shape: (5, 32, 32, 3)
2020-02-16 09:40:02 INFO: Scale of 0 disables regularizer.
2020-02-16 09:40:02 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 09:40:02 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 09:40:02 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 09:40:02 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-16 09:40:02 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 09:40:02 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-16 09:40:02 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-16 09:40:02 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-16 09:40:02 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 09:40:02 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 09:40:02 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 09:40:03 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 09:40:03 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 09:40:03 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 09:40:03 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 09:40:03 INFO: class_caps activation shape: (5, 10)
2020-02-16 09:40:03 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 09:40:03 INFO: input shape: (5, 32, 32, 3)
2020-02-16 09:40:03 INFO: Scale of 0 disables regularizer.
2020-02-16 09:40:03 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 09:40:03 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 09:40:03 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 09:40:03 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 09:40:04 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 09:40:04 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 09:40:04 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 09:40:04 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 09:40:04 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 09:40:04 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 09:40:04 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 09:40:04 INFO: class_caps activation shape: (5, 10)
2020-02-16 09:40:04 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 09:40:04 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-16 09:40:05 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-16 09:40:05 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-16 09:40:05 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-16 09:40:13 CRITICAL: Traceback (most recent call last):
  File "inspect_results.py", line 321, in <module>
    tf.app.run()
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/platform/app.py", line 40, in run
    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 300, in run
    _run_main(main, args)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 251, in _run_main
    sys.exit(main(argv))
  File "inspect_results.py", line 260, in main
    patch = np.asarray(Image.open(FLAGS.patch_path), dtype=np.float32)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/PIL/Image.py", line 2766, in open
    fp = builtins.open(filename, "rb")
FileNotFoundError: [Errno 2] No such file or directory: 'bg0_adv_10/train/saved_patch.png'

2020-02-16 09:44:06 INFO: name: 20191024_14:00:15:440334_
2020-02-16 09:44:06 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-16 09:44:06 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-16 09:44:06 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-16 09:44:06 INFO: Using dataset: cifar10
2020-02-16 09:44:06 INFO: BUILD TEST GRAPH
2020-02-16 09:44:06 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-16 09:44:06 INFO: Overwrite dataset info from restored data version.
2020-02-16 09:44:07 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-16 09:44:07 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-16 09:44:07 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-16 09:44:07 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-16 09:44:07 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-16 09:44:07 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-16 09:44:07 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-16 09:44:07 INFO: input shape: (5, 32, 32, 3)
2020-02-16 09:44:07 INFO: Scale of 0 disables regularizer.
2020-02-16 09:44:07 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 09:44:07 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 09:44:07 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 09:44:07 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-16 09:44:07 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 09:44:07 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-16 09:44:07 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-16 09:44:07 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-16 09:44:08 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 09:44:08 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 09:44:08 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 09:44:08 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 09:44:08 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 09:44:08 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 09:44:08 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 09:44:08 INFO: class_caps activation shape: (5, 10)
2020-02-16 09:44:08 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 09:44:08 INFO: input shape: (5, 32, 32, 3)
2020-02-16 09:44:08 INFO: Scale of 0 disables regularizer.
2020-02-16 09:44:08 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 09:44:08 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 09:44:08 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 09:44:08 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 09:44:08 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 09:44:08 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 09:44:08 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 09:44:09 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 09:44:09 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 09:44:09 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 09:44:09 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 09:44:09 INFO: class_caps activation shape: (5, 10)
2020-02-16 09:44:09 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 09:44:09 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-16 09:44:09 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-16 09:44:10 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-16 09:44:10 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-16 09:44:11 CRITICAL: Traceback (most recent call last):
  File "inspect_results.py", line 321, in <module>
    tf.app.run()
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/platform/app.py", line 40, in run
    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 300, in run
    _run_main(main, args)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 251, in _run_main
    sys.exit(main(argv))
  File "inspect_results.py", line 260, in main
    patch = np.asarray(Image.open(FLAGS.patch_path), dtype=np.float32)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/PIL/Image.py", line 2766, in open
    fp = builtins.open(filename, "rb")
FileNotFoundError: [Errno 2] No such file or directory: 'bg0_adv_30/train/saved_patch.png'

2020-02-16 09:44:17 INFO: name: 20191024_14:00:15:440334_
2020-02-16 09:44:17 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-16 09:44:17 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-16 09:44:17 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-16 09:44:17 INFO: Using dataset: cifar10
2020-02-16 09:44:17 INFO: BUILD TEST GRAPH
2020-02-16 09:44:17 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-16 09:44:17 INFO: Overwrite dataset info from restored data version.
2020-02-16 09:44:17 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-16 09:44:17 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-16 09:44:17 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-16 09:44:17 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-16 09:44:17 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-16 09:44:17 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-16 09:44:17 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-16 09:44:17 INFO: input shape: (5, 32, 32, 3)
2020-02-16 09:44:17 INFO: Scale of 0 disables regularizer.
2020-02-16 09:44:18 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 09:44:18 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 09:44:18 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 09:44:18 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-16 09:44:18 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 09:44:18 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-16 09:44:18 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-16 09:44:18 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-16 09:44:18 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 09:44:18 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 09:44:18 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 09:44:18 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 09:44:18 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 09:44:18 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 09:44:18 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 09:44:18 INFO: class_caps activation shape: (5, 10)
2020-02-16 09:44:18 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 09:44:19 INFO: input shape: (5, 32, 32, 3)
2020-02-16 09:44:19 INFO: Scale of 0 disables regularizer.
2020-02-16 09:44:19 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 09:44:19 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 09:44:19 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 09:44:19 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 09:44:19 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 09:44:19 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 09:44:19 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 09:44:19 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 09:44:19 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 09:44:19 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 09:44:19 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 09:44:19 INFO: class_caps activation shape: (5, 10)
2020-02-16 09:44:19 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 09:44:19 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-16 09:44:20 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-16 09:44:20 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-16 09:44:20 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-16 09:44:21 CRITICAL: Traceback (most recent call last):
  File "inspect_results.py", line 321, in <module>
    tf.app.run()
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/platform/app.py", line 40, in run
    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 300, in run
    _run_main(main, args)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 251, in _run_main
    sys.exit(main(argv))
  File "inspect_results.py", line 260, in main
    patch = np.asarray(Image.open(FLAGS.patch_path), dtype=np.float32)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/PIL/Image.py", line 2766, in open
    fp = builtins.open(filename, "rb")
FileNotFoundError: [Errno 2] No such file or directory: 'bg0_adv_50/train/saved_patch.png'

2020-02-16 09:49:10 INFO: name: 20191024_14:00:15:440334_
2020-02-16 09:49:10 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-16 09:49:10 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-16 09:49:10 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-16 09:49:10 INFO: Using dataset: cifar10
2020-02-16 09:49:10 INFO: BUILD TEST GRAPH
2020-02-16 09:49:10 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-16 09:49:10 INFO: Overwrite dataset info from restored data version.
2020-02-16 09:49:10 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-16 09:49:10 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-16 09:49:11 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-16 09:49:11 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-16 09:49:11 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-16 09:49:11 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-16 09:49:11 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-16 09:49:11 INFO: input shape: (5, 32, 32, 3)
2020-02-16 09:49:11 INFO: Scale of 0 disables regularizer.
2020-02-16 09:49:11 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 09:49:11 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 09:49:11 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 09:49:11 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-16 09:49:11 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 09:49:11 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-16 09:49:11 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-16 09:49:11 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-16 09:49:11 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 09:49:11 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 09:49:11 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 09:49:12 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 09:49:12 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 09:49:12 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 09:49:12 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 09:49:12 INFO: class_caps activation shape: (5, 10)
2020-02-16 09:49:12 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 09:49:12 INFO: input shape: (5, 32, 32, 3)
2020-02-16 09:49:12 INFO: Scale of 0 disables regularizer.
2020-02-16 09:49:12 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 09:49:12 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 09:49:12 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 09:49:12 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 09:49:12 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 09:49:12 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 09:49:12 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 09:49:12 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 09:49:12 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 09:49:12 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 09:49:12 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 09:49:12 INFO: class_caps activation shape: (5, 10)
2020-02-16 09:49:12 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 09:49:13 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-16 09:49:13 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-16 09:49:13 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-16 09:49:13 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-16 09:49:15 CRITICAL: Traceback (most recent call last):
  File "inspect_results.py", line 321, in <module>
    tf.app.run()
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/platform/app.py", line 40, in run
    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 300, in run
    _run_main(main, args)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 251, in _run_main
    sys.exit(main(argv))
  File "inspect_results.py", line 260, in main
    patch = np.asarray(Image.open(FLAGS.patch_path), dtype=np.float32)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/PIL/Image.py", line 2766, in open
    fp = builtins.open(filename, "rb")
FileNotFoundError: [Errno 2] No such file or directory: 'bg0_adv_35/train/saved_patch.png'

2020-02-16 09:51:27 INFO: name: 20191024_14:00:15:440334_
2020-02-16 09:51:27 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-16 09:51:27 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-16 09:51:27 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-16 09:51:27 INFO: Using dataset: cifar10
2020-02-16 09:51:27 INFO: BUILD TEST GRAPH
2020-02-16 09:51:27 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-16 09:51:27 INFO: Overwrite dataset info from restored data version.
2020-02-16 09:51:27 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-16 09:51:27 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-16 09:51:28 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-16 09:51:28 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-16 09:51:28 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-16 09:51:28 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-16 09:51:28 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-16 09:51:28 INFO: input shape: (5, 32, 32, 3)
2020-02-16 09:51:28 INFO: Scale of 0 disables regularizer.
2020-02-16 09:51:28 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 09:51:28 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 09:51:28 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 09:51:28 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-16 09:51:28 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 09:51:28 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-16 09:51:28 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-16 09:51:28 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-16 09:51:28 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 09:51:28 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 09:51:28 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 09:51:28 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 09:51:28 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 09:51:28 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 09:51:28 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 09:51:29 INFO: class_caps activation shape: (5, 10)
2020-02-16 09:51:29 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 09:51:29 INFO: input shape: (5, 32, 32, 3)
2020-02-16 09:51:29 INFO: Scale of 0 disables regularizer.
2020-02-16 09:51:29 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 09:51:29 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 09:51:29 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 09:51:29 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 09:51:29 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 09:51:29 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 09:51:29 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 09:51:29 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 09:51:29 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 09:51:29 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 09:51:29 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 09:51:29 INFO: class_caps activation shape: (5, 10)
2020-02-16 09:51:29 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 09:51:29 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-16 09:51:30 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-16 09:51:30 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-16 09:51:30 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-16 09:51:31 CRITICAL: Traceback (most recent call last):
  File "inspect_results.py", line 321, in <module>
    tf.app.run()
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/platform/app.py", line 40, in run
    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 300, in run
    _run_main(main, args)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 251, in _run_main
    sys.exit(main(argv))
  File "inspect_results.py", line 260, in main
    patch = np.asarray(Image.open(FLAGS.patch_path), dtype=np.float32)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/PIL/Image.py", line 2766, in open
    fp = builtins.open(filename, "rb")
FileNotFoundError: [Errno 2] No such file or directory: 'bg0_adv_15/train/saved_patch.png'

2020-02-16 09:51:47 INFO: name: 20191024_14:00:15:440334_
2020-02-16 09:51:47 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-16 09:51:47 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-16 09:51:47 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-16 09:51:47 INFO: Using dataset: cifar10
2020-02-16 09:51:47 INFO: BUILD TEST GRAPH
2020-02-16 09:51:47 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-16 09:51:47 INFO: Overwrite dataset info from restored data version.
2020-02-16 09:51:47 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-16 09:51:47 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-16 09:51:48 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-16 09:51:48 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-16 09:51:48 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-16 09:51:48 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-16 09:51:48 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-16 09:51:48 INFO: input shape: (5, 32, 32, 3)
2020-02-16 09:51:48 INFO: Scale of 0 disables regularizer.
2020-02-16 09:51:48 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 09:51:48 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 09:51:48 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 09:51:48 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-16 09:51:48 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 09:51:48 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-16 09:51:48 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-16 09:51:48 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-16 09:51:48 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 09:51:48 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 09:51:48 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 09:51:49 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 09:51:49 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 09:51:49 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 09:51:49 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 09:51:49 INFO: class_caps activation shape: (5, 10)
2020-02-16 09:51:49 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 09:51:49 INFO: input shape: (5, 32, 32, 3)
2020-02-16 09:51:49 INFO: Scale of 0 disables regularizer.
2020-02-16 09:51:49 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 09:51:49 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 09:51:49 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 09:51:49 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 09:51:49 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 09:51:49 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 09:51:49 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 09:51:49 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 09:51:49 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 09:51:49 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 09:51:49 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 09:51:49 INFO: class_caps activation shape: (5, 10)
2020-02-16 09:51:49 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 09:51:49 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-16 09:51:50 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-16 09:51:51 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-16 09:51:51 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-16 09:51:52 CRITICAL: Traceback (most recent call last):
  File "inspect_results.py", line 321, in <module>
    tf.app.run()
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/platform/app.py", line 40, in run
    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 300, in run
    _run_main(main, args)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 251, in _run_main
    sys.exit(main(argv))
  File "inspect_results.py", line 260, in main
    patch = np.asarray(Image.open(FLAGS.patch_path), dtype=np.float32)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/PIL/Image.py", line 2766, in open
    fp = builtins.open(filename, "rb")
FileNotFoundError: [Errno 2] No such file or directory: 'bg0_adv_4/train/saved_patch.png'

2020-02-16 09:53:10 INFO: name: 20191024_14:00:15:440334_
2020-02-16 09:53:10 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-16 09:53:10 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-16 09:53:10 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-16 09:53:10 INFO: Using dataset: cifar10
2020-02-16 09:53:10 INFO: BUILD TEST GRAPH
2020-02-16 09:53:10 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-16 09:53:10 INFO: Overwrite dataset info from restored data version.
2020-02-16 09:53:10 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-16 09:53:10 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-16 09:53:10 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-16 09:53:10 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-16 09:53:10 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-16 09:53:10 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-16 09:53:10 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-16 09:53:10 INFO: input shape: (5, 32, 32, 3)
2020-02-16 09:53:11 INFO: Scale of 0 disables regularizer.
2020-02-16 09:53:11 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 09:53:11 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 09:53:11 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 09:53:11 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-16 09:53:11 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 09:53:11 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-16 09:53:11 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-16 09:53:11 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-16 09:53:11 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 09:53:11 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 09:53:11 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 09:53:11 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 09:53:11 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 09:53:11 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 09:53:11 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 09:53:11 INFO: class_caps activation shape: (5, 10)
2020-02-16 09:53:11 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 09:53:12 INFO: input shape: (5, 32, 32, 3)
2020-02-16 09:53:12 INFO: Scale of 0 disables regularizer.
2020-02-16 09:53:12 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 09:53:12 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 09:53:12 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 09:53:12 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 09:53:12 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 09:53:12 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 09:53:12 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 09:53:12 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 09:53:12 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 09:53:12 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 09:53:12 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 09:53:12 INFO: class_caps activation shape: (5, 10)
2020-02-16 09:53:12 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 09:53:12 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-16 09:53:13 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-16 09:53:13 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-16 09:53:13 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-16 09:53:14 CRITICAL: Traceback (most recent call last):
  File "inspect_results.py", line 321, in <module>
    tf.app.run()
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/platform/app.py", line 40, in run
    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 300, in run
    _run_main(main, args)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 251, in _run_main
    sys.exit(main(argv))
  File "inspect_results.py", line 260, in main
    patch = np.asarray(Image.open(FLAGS.patch_path), dtype=np.float32)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/PIL/Image.py", line 2766, in open
    fp = builtins.open(filename, "rb")
FileNotFoundError: [Errno 2] No such file or directory: 'bg0_adv_45/train/saved_patch.png'

2020-02-16 10:02:37 INFO: name: 20191024_14:00:15:440334_
2020-02-16 10:02:37 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-16 10:02:37 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-16 10:02:37 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-16 10:02:37 INFO: Using dataset: cifar10
2020-02-16 10:02:37 INFO: BUILD TEST GRAPH
2020-02-16 10:02:37 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-16 10:02:37 INFO: Overwrite dataset info from restored data version.
2020-02-16 10:02:37 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-16 10:02:37 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-16 10:02:38 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-16 10:02:38 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-16 10:02:38 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-16 10:02:38 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-16 10:02:38 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-16 10:02:38 INFO: input shape: (5, 32, 32, 3)
2020-02-16 10:02:38 INFO: Scale of 0 disables regularizer.
2020-02-16 10:02:38 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 10:02:38 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 10:02:38 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 10:02:39 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-16 10:02:39 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 10:02:39 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-16 10:02:39 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-16 10:02:39 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-16 10:02:39 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 10:02:39 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 10:02:39 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 10:02:39 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 10:02:39 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 10:02:39 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 10:02:39 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 10:02:39 INFO: class_caps activation shape: (5, 10)
2020-02-16 10:02:39 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 10:02:40 INFO: input shape: (5, 32, 32, 3)
2020-02-16 10:02:40 INFO: Scale of 0 disables regularizer.
2020-02-16 10:02:40 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 10:02:40 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 10:02:40 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 10:02:40 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 10:02:40 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 10:02:40 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 10:02:40 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 10:02:40 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 10:02:40 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 10:02:40 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 10:02:40 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 10:02:41 INFO: class_caps activation shape: (5, 10)
2020-02-16 10:02:41 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 10:02:41 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-16 10:02:42 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-16 10:02:42 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-16 10:02:42 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-16 10:02:44 CRITICAL: Traceback (most recent call last):
  File "inspect_results.py", line 321, in <module>
    tf.app.run()
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/platform/app.py", line 40, in run
    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 300, in run
    _run_main(main, args)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 251, in _run_main
    sys.exit(main(argv))
  File "inspect_results.py", line 260, in main
    patch = np.asarray(Image.open(FLAGS.patch_path), dtype=np.float32)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/PIL/Image.py", line 2766, in open
    fp = builtins.open(filename, "rb")
FileNotFoundError: [Errno 2] No such file or directory: 'bg0_adv_25/train/saved_patch.png'

2020-02-16 10:12:33 INFO: name: 20191024_14:00:15:440334_
2020-02-16 10:12:33 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-16 10:12:33 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-16 10:12:33 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-16 10:12:33 INFO: Using dataset: cifar10
2020-02-16 10:12:33 INFO: BUILD TEST GRAPH
2020-02-16 10:12:33 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-16 10:12:33 INFO: Overwrite dataset info from restored data version.
2020-02-16 10:12:33 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-16 10:12:33 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-16 10:12:34 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-16 10:12:34 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-16 10:12:34 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-16 10:12:34 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-16 10:12:34 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-16 10:12:34 INFO: input shape: (5, 32, 32, 3)
2020-02-16 10:12:34 INFO: Scale of 0 disables regularizer.
2020-02-16 10:12:34 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 10:12:34 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 10:12:34 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 10:12:34 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-16 10:12:34 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 10:12:34 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-16 10:12:34 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-16 10:12:34 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-16 10:12:34 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 10:12:34 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 10:12:34 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 10:12:34 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 10:12:34 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 10:12:34 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 10:12:34 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 10:12:34 INFO: class_caps activation shape: (5, 10)
2020-02-16 10:12:35 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 10:12:35 INFO: input shape: (5, 32, 32, 3)
2020-02-16 10:12:35 INFO: Scale of 0 disables regularizer.
2020-02-16 10:12:35 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 10:12:35 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 10:12:35 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 10:12:35 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 10:12:35 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 10:12:35 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 10:12:35 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 10:12:35 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 10:12:35 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 10:12:35 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 10:12:35 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 10:12:35 INFO: class_caps activation shape: (5, 10)
2020-02-16 10:12:35 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 10:12:35 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-16 10:12:36 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-16 10:12:36 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-16 10:12:36 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-16 10:12:40 CRITICAL: Traceback (most recent call last):
  File "inspect_results.py", line 321, in <module>
    tf.app.run()
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/platform/app.py", line 40, in run
    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 300, in run
    _run_main(main, args)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 251, in _run_main
    sys.exit(main(argv))
  File "inspect_results.py", line 260, in main
    patch = np.asarray(Image.open(FLAGS.patch_path), dtype=np.float32)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/PIL/Image.py", line 2766, in open
    fp = builtins.open(filename, "rb")
FileNotFoundError: [Errno 2] No such file or directory: 'bg0_adv_20/train/saved_patch.png'

2020-02-16 10:13:24 INFO: name: 20191024_14:00:15:440334_
2020-02-16 10:13:24 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-16 10:13:24 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-16 10:13:24 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-16 10:13:24 INFO: Using dataset: cifar10
2020-02-16 10:13:24 INFO: BUILD TEST GRAPH
2020-02-16 10:13:24 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-16 10:13:24 INFO: Overwrite dataset info from restored data version.
2020-02-16 10:13:24 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-16 10:13:24 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-16 10:13:25 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-16 10:13:25 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-16 10:13:25 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-16 10:13:25 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-16 10:13:25 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-16 10:13:25 INFO: input shape: (5, 32, 32, 3)
2020-02-16 10:13:25 INFO: Scale of 0 disables regularizer.
2020-02-16 10:13:26 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 10:13:26 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 10:13:26 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 10:13:26 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-16 10:13:26 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 10:13:26 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-16 10:13:26 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-16 10:13:26 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-16 10:13:26 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 10:13:26 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 10:13:26 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 10:13:26 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 10:13:26 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 10:13:26 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 10:13:26 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 10:13:26 INFO: class_caps activation shape: (5, 10)
2020-02-16 10:13:26 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 10:13:27 INFO: input shape: (5, 32, 32, 3)
2020-02-16 10:13:27 INFO: Scale of 0 disables regularizer.
2020-02-16 10:13:27 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 10:13:27 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 10:13:27 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 10:13:27 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 10:13:27 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 10:13:27 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 10:13:27 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 10:13:27 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 10:13:27 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 10:13:27 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 10:13:27 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 10:13:27 INFO: class_caps activation shape: (5, 10)
2020-02-16 10:13:27 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 10:13:27 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-16 10:13:28 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-16 10:13:29 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-16 10:13:29 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-16 10:13:30 CRITICAL: Traceback (most recent call last):
  File "inspect_results.py", line 321, in <module>
    tf.app.run()
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/platform/app.py", line 40, in run
    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 300, in run
    _run_main(main, args)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 251, in _run_main
    sys.exit(main(argv))
  File "inspect_results.py", line 260, in main
    patch = np.asarray(Image.open(FLAGS.patch_path), dtype=np.float32)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/PIL/Image.py", line 2766, in open
    fp = builtins.open(filename, "rb")
FileNotFoundError: [Errno 2] No such file or directory: 'bg0_adv_05/train/saved_patch.png'

2020-02-16 10:16:57 INFO: name: 20191024_14:00:15:440334_
2020-02-16 10:16:57 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-16 10:16:57 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-16 10:16:57 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-16 10:16:57 INFO: Using dataset: cifar10
2020-02-16 10:16:57 INFO: BUILD TEST GRAPH
2020-02-16 10:16:57 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-16 10:16:57 INFO: Overwrite dataset info from restored data version.
2020-02-16 10:16:57 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-16 10:16:57 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-16 10:16:58 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-16 10:16:58 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-16 10:16:58 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-16 10:16:58 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-16 10:16:58 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-16 10:16:58 INFO: input shape: (5, 32, 32, 3)
2020-02-16 10:16:58 INFO: Scale of 0 disables regularizer.
2020-02-16 10:16:58 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 10:16:58 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 10:16:58 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 10:16:58 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-16 10:16:58 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 10:16:58 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-16 10:16:58 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-16 10:16:58 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-16 10:16:58 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 10:16:58 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 10:16:58 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 10:16:59 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 10:16:59 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 10:16:59 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 10:16:59 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 10:16:59 INFO: class_caps activation shape: (5, 10)
2020-02-16 10:16:59 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 10:16:59 INFO: input shape: (5, 32, 32, 3)
2020-02-16 10:16:59 INFO: Scale of 0 disables regularizer.
2020-02-16 10:16:59 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 10:16:59 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 10:16:59 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 10:16:59 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 10:16:59 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 10:16:59 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 10:16:59 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 10:16:59 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 10:16:59 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 10:16:59 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 10:16:59 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 10:17:00 INFO: class_caps activation shape: (5, 10)
2020-02-16 10:17:00 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 10:17:00 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-16 10:17:00 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-16 10:17:01 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-16 10:17:01 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-16 10:17:02 CRITICAL: Traceback (most recent call last):
  File "inspect_results.py", line 321, in <module>
    tf.app.run()
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/platform/app.py", line 40, in run
    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 300, in run
    _run_main(main, args)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 251, in _run_main
    sys.exit(main(argv))
  File "inspect_results.py", line 260, in main
    patch = np.asarray(Image.open(FLAGS.patch_path), dtype=np.float32)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/PIL/Image.py", line 2766, in open
    fp = builtins.open(filename, "rb")
FileNotFoundError: [Errno 2] No such file or directory: 'bg0_adv_00/train/saved_patch.png'

2020-02-16 10:18:12 INFO: name: 20191024_14:00:15:440334_
2020-02-16 10:18:12 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-16 10:18:12 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-16 10:18:12 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-16 10:18:12 INFO: Using dataset: cifar10
2020-02-16 10:18:12 INFO: BUILD TEST GRAPH
2020-02-16 10:18:12 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-16 10:18:12 INFO: Overwrite dataset info from restored data version.
2020-02-16 10:18:12 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-16 10:18:12 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-16 10:18:12 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-16 10:18:12 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-16 10:18:12 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-16 10:18:12 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-16 10:18:13 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-16 10:18:13 INFO: input shape: (5, 32, 32, 3)
2020-02-16 10:18:13 INFO: Scale of 0 disables regularizer.
2020-02-16 10:18:13 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 10:18:13 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 10:18:13 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 10:18:13 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-16 10:18:13 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 10:18:13 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-16 10:18:13 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-16 10:18:13 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-16 10:18:13 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 10:18:13 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 10:18:13 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 10:18:13 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 10:18:13 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 10:18:13 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 10:18:13 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 10:18:14 INFO: class_caps activation shape: (5, 10)
2020-02-16 10:18:14 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 10:18:14 INFO: input shape: (5, 32, 32, 3)
2020-02-16 10:18:14 INFO: Scale of 0 disables regularizer.
2020-02-16 10:18:14 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 10:18:14 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 10:18:14 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 10:18:14 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 10:18:14 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 10:18:14 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 10:18:14 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 10:18:14 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 10:18:14 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 10:18:14 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 10:18:14 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 10:18:14 INFO: class_caps activation shape: (5, 10)
2020-02-16 10:18:14 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 10:18:14 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-16 10:18:15 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-16 10:18:15 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-16 10:18:15 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-16 10:18:17 CRITICAL: Traceback (most recent call last):
  File "inspect_results.py", line 321, in <module>
    tf.app.run()
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/platform/app.py", line 40, in run
    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 300, in run
    _run_main(main, args)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 251, in _run_main
    sys.exit(main(argv))
  File "inspect_results.py", line 260, in main
    patch = np.asarray(Image.open(FLAGS.patch_path), dtype=np.float32)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/PIL/Image.py", line 2766, in open
    fp = builtins.open(filename, "rb")
FileNotFoundError: [Errno 2] No such file or directory: 'bg0_adv_4.5/train/saved_patch.png'

2020-02-16 10:25:07 INFO: name: 20191024_14:00:15:440334_
2020-02-16 10:25:07 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-16 10:25:07 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-16 10:25:07 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-16 10:25:07 INFO: Using dataset: cifar10
2020-02-16 10:25:07 INFO: BUILD TEST GRAPH
2020-02-16 10:25:07 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-16 10:25:07 INFO: Overwrite dataset info from restored data version.
2020-02-16 10:25:07 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-16 10:25:07 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-16 10:25:08 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-16 10:25:08 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-16 10:25:08 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-16 10:25:08 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-16 10:25:08 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-16 10:25:08 INFO: input shape: (5, 32, 32, 3)
2020-02-16 10:25:08 INFO: Scale of 0 disables regularizer.
2020-02-16 10:25:09 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 10:25:09 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 10:25:09 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 10:25:09 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-16 10:25:09 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 10:25:09 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-16 10:25:09 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-16 10:25:09 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-16 10:25:09 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 10:25:09 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 10:25:09 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 10:25:09 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 10:25:09 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 10:25:09 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 10:25:09 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 10:25:09 INFO: class_caps activation shape: (5, 10)
2020-02-16 10:25:09 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 10:25:09 INFO: input shape: (5, 32, 32, 3)
2020-02-16 10:25:09 INFO: Scale of 0 disables regularizer.
2020-02-16 10:25:09 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 10:25:09 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 10:25:09 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 10:25:09 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 10:25:10 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 10:25:10 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 10:25:10 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 10:25:10 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 10:25:10 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 10:25:10 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 10:25:10 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 10:25:10 INFO: class_caps activation shape: (5, 10)
2020-02-16 10:25:10 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 10:25:10 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-16 10:25:10 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-16 10:25:11 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-16 10:25:11 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-16 10:25:14 CRITICAL: Traceback (most recent call last):
  File "inspect_results.py", line 321, in <module>
    tf.app.run()
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/platform/app.py", line 40, in run
    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 300, in run
    _run_main(main, args)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 251, in _run_main
    sys.exit(main(argv))
  File "inspect_results.py", line 260, in main
    patch = np.asarray(Image.open(FLAGS.patch_path), dtype=np.float32)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/PIL/Image.py", line 2766, in open
    fp = builtins.open(filename, "rb")
FileNotFoundError: [Errno 2] No such file or directory: 'bg0_adv_thou/train/saved_patch.png'

2020-02-16 10:31:39 INFO: name: 20191024_14:00:15:440334_
2020-02-16 10:31:39 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-16 10:31:39 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-16 10:31:39 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-16 10:31:39 INFO: Using dataset: cifar10
2020-02-16 10:31:39 INFO: BUILD TEST GRAPH
2020-02-16 10:31:39 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-16 10:31:39 INFO: Overwrite dataset info from restored data version.
2020-02-16 10:31:39 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-16 10:31:39 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-16 10:31:40 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-16 10:31:40 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-16 10:31:40 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-16 10:31:40 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-16 10:31:40 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-16 10:31:40 INFO: input shape: (5, 32, 32, 3)
2020-02-16 10:31:40 INFO: Scale of 0 disables regularizer.
2020-02-16 10:31:40 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 10:31:40 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 10:31:40 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 10:31:40 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-16 10:31:40 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 10:31:40 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-16 10:31:40 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-16 10:31:40 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-16 10:31:40 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 10:31:40 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 10:31:40 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 10:31:41 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 10:31:41 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 10:31:41 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 10:31:41 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 10:31:41 INFO: class_caps activation shape: (5, 10)
2020-02-16 10:31:41 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 10:31:41 INFO: input shape: (5, 32, 32, 3)
2020-02-16 10:31:41 INFO: Scale of 0 disables regularizer.
2020-02-16 10:31:41 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 10:31:41 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 10:31:41 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 10:31:41 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 10:31:41 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 10:31:41 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 10:31:41 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 10:31:41 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 10:31:41 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 10:31:41 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 10:31:41 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 10:31:42 INFO: class_caps activation shape: (5, 10)
2020-02-16 10:31:42 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 10:31:42 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-16 10:31:42 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-16 10:31:42 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-16 10:31:42 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-16 10:31:45 CRITICAL: Traceback (most recent call last):
  File "inspect_results.py", line 321, in <module>
    tf.app.run()
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/platform/app.py", line 40, in run
    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 300, in run
    _run_main(main, args)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 251, in _run_main
    sys.exit(main(argv))
  File "inspect_results.py", line 260, in main
    patch = np.asarray(Image.open(FLAGS.patch_path), dtype=np.float32)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/PIL/Image.py", line 2766, in open
    fp = builtins.open(filename, "rb")
FileNotFoundError: [Errno 2] No such file or directory: 'bg0_adv_ten/train/saved_patch.png'

2020-02-16 11:17:42 INFO: name: 20191024_14:00:15:440334_
2020-02-16 11:17:42 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-16 11:17:42 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-16 11:17:42 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-16 11:17:42 INFO: Using dataset: cifar10
2020-02-16 11:17:42 INFO: BUILD TEST GRAPH
2020-02-16 11:17:42 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-16 11:17:42 INFO: Overwrite dataset info from restored data version.
2020-02-16 11:17:42 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-16 11:17:42 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-16 11:17:43 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-16 11:17:43 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-16 11:17:43 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-16 11:17:43 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-16 11:17:43 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-16 11:17:43 INFO: input shape: (5, 32, 32, 3)
2020-02-16 11:17:43 INFO: Scale of 0 disables regularizer.
2020-02-16 11:17:43 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 11:17:43 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 11:17:43 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 11:17:44 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-16 11:17:44 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 11:17:44 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-16 11:17:44 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-16 11:17:44 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-16 11:17:44 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 11:17:44 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 11:17:44 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 11:17:44 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 11:17:44 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 11:17:44 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 11:17:44 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 11:17:44 INFO: class_caps activation shape: (5, 10)
2020-02-16 11:17:44 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 11:17:44 INFO: input shape: (5, 32, 32, 3)
2020-02-16 11:17:44 INFO: Scale of 0 disables regularizer.
2020-02-16 11:17:44 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-16 11:17:44 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-16 11:17:44 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-16 11:17:44 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-16 11:17:45 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-16 11:17:45 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-16 11:17:45 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-16 11:17:45 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-16 11:17:45 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-16 11:17:45 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-16 11:17:45 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-16 11:17:45 INFO: class_caps activation shape: (5, 10)
2020-02-16 11:17:45 INFO: class_caps pose shape: (5, 10, 16)
2020-02-16 11:17:45 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-16 11:17:46 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-16 11:17:46 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-16 11:17:46 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-16 11:17:50 CRITICAL: Traceback (most recent call last):
  File "inspect_results.py", line 321, in <module>
    tf.app.run()
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/platform/app.py", line 40, in run
    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 300, in run
    _run_main(main, args)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 251, in _run_main
    sys.exit(main(argv))
  File "inspect_results.py", line 260, in main
    patch = np.asarray(Image.open(FLAGS.patch_path), dtype=np.float32)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/PIL/Image.py", line 2766, in open
    fp = builtins.open(filename, "rb")
FileNotFoundError: [Errno 2] No such file or directory: 'bg0_adv_hund/train/saved_patch.png'

2020-02-17 06:04:37 INFO: name: 20191024_14:00:15:440334_
2020-02-17 06:04:37 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-17 06:04:37 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-17 06:04:37 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-17 06:04:37 INFO: Using dataset: cifar10
2020-02-17 06:04:37 INFO: BUILD TEST GRAPH
2020-02-17 06:04:37 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-17 06:04:37 INFO: Overwrite dataset info from restored data version.
2020-02-17 06:04:37 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-17 06:04:37 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-17 06:04:39 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-17 06:04:39 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-17 06:04:39 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-17 06:04:39 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-17 06:04:39 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-17 06:04:39 INFO: input shape: (5, 32, 32, 3)
2020-02-17 06:04:39 INFO: Scale of 0 disables regularizer.
2020-02-17 06:04:39 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-17 06:04:39 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-17 06:04:39 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-17 06:04:39 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-17 06:04:39 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-17 06:04:39 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-17 06:04:39 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-17 06:04:39 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-17 06:04:39 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-17 06:04:39 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-17 06:04:39 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-17 06:04:40 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-17 06:04:40 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-17 06:04:40 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-17 06:04:40 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-17 06:04:40 INFO: class_caps activation shape: (5, 10)
2020-02-17 06:04:40 INFO: class_caps pose shape: (5, 10, 16)
2020-02-17 06:04:40 INFO: input shape: (5, 32, 32, 3)
2020-02-17 06:04:40 INFO: Scale of 0 disables regularizer.
2020-02-17 06:04:40 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-17 06:04:40 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-17 06:04:40 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-17 06:04:40 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-17 06:04:40 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-17 06:04:40 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-17 06:04:40 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-17 06:04:40 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-17 06:04:40 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-17 06:04:40 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-17 06:04:40 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-17 06:04:40 INFO: class_caps activation shape: (5, 10)
2020-02-17 06:04:40 INFO: class_caps pose shape: (5, 10, 16)
2020-02-17 06:04:40 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-17 06:04:41 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-17 06:04:41 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-17 06:04:41 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-17 06:04:49 CRITICAL: Traceback (most recent call last):
  File "inspect_results.py", line 321, in <module>
    tf.app.run()
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/platform/app.py", line 40, in run
    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 300, in run
    _run_main(main, args)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/absl/app.py", line 251, in _run_main
    sys.exit(main(argv))
  File "inspect_results.py", line 260, in main
    patch = np.asarray(Image.open(FLAGS.patch_path), dtype=np.float32)
  File "/home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/PIL/Image.py", line 2766, in open
    fp = builtins.open(filename, "rb")
FileNotFoundError: [Errno 2] No such file or directory: 'bg0_adv_tenk/train/saved_patch.png'

2020-02-17 17:50:19 INFO: name: 20191024_14:00:15:440334_
2020-02-17 17:50:19 INFO: name: 20191024_14:00:15:440334_
2020-02-17 17:50:19 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-17 17:50:19 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-17 17:50:19 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-17 17:50:19 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-17 17:50:19 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-17 17:50:19 INFO: Using dataset: cifar10
2020-02-17 17:50:19 INFO: BUILD TEST GRAPH
2020-02-17 17:50:20 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-17 17:50:20 INFO: Overwrite dataset info from restored data version.
2020-02-17 17:50:20 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-17 17:50:20 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-17 17:50:20 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-17 17:50:21 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-17 17:50:21 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-17 17:50:21 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-17 17:50:21 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-17 17:50:21 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-17 17:50:21 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-17 17:50:21 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-17 17:50:21 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-17 17:50:21 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-17 17:50:21 INFO: input shape: (5, 32, 32, 3)
2020-02-17 17:50:21 INFO: Scale of 0 disables regularizer.
2020-02-17 17:50:21 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-17 17:50:21 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-17 17:50:22 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-17 17:50:22 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-17 17:50:22 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-17 17:50:22 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
ith-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-17 17:50:22 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-17 17:50:22 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-17 17:50:22 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-17 17:50:22 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-17 17:50:22 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-17 17:50:22 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-17 17:50:22 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-17 17:50:22 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-17 17:50:22 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-17 17:50:22 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-17 17:50:22 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-17 17:50:22 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-17 17:50:22 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-17 17:50:22 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-17 17:50:23 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-17 17:50:23 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-17 17:50:23 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
)
2020-02-17 17:50:23 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)

2020-02-17 17:50:23 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-17 17:50:23 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-17 17:50:23 INFO: class_caps activation shape: (5, 10)
2020-02-17 17:50:23 INFO: class_caps pose shape: (5, 10, 16)
2020-02-17 17:50:23 INFO: class_caps activation shape: (5, 10)
2020-02-17 17:50:23 INFO: class_caps pose shape: (5, 10, 16)
2020-02-17 17:50:23 INFO: input shape: (5, 32, 32, 3)
2020-02-17 17:50:23 INFO: Scale of 0 disables regularizer.
2020-02-17 17:50:23 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-17 17:50:23 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-17 17:50:23 INFO: input shape: (5, 32, 32, 3)
e (5, 16, 16, 24, 1)
2020-02-17 17:50:23 INFO: Scale of 0 disables regularizer.
2020-02-17 17:50:23 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-17 17:50:23 INFO: relu_conv1 output shape: (5, 16, 16, 128)
4, 16)
2020-02-17 17:50:24 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-17 17:50:24 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-17 17:50:24 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-17 17:50:24 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-17 17:50:24 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-17 17:50:24 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-17 17:50:24 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-17 17:50:24 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-17 17:50:24 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-17 17:50:24 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-17 17:50:24 INFO: class_caps pose shape: (5, 10, 16)
2020-02-17 17:50:24 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-17 17:50:24 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-17 17:50:24 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-17 17:50:24 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-17 17:50:24 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-17 17:50:24 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-17 17:50:24 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-17 17:50:24 INFO: class_caps activation shape: (5, 10)
2020-02-17 17:50:24 INFO: class_caps pose shape: (5, 10, 16)
2020-02-17 17:50:25 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-17 17:50:25 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-17 17:50:25 INFO: name: 20191024_14:00:15:440334_
2020-02-17 17:50:25 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-17 17:50:25 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-17 17:50:25 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
15:440334_/train/checkpoint/model.ckpt-178125
2020-02-17 17:50:25 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-17 17:50:25 INFO: Using dataset: cifar10
2020-02-17 17:50:25 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-17 17:50:26 INFO: BUILD TEST GRAPH
2020-02-17 17:50:26 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-17 17:50:26 INFO: Overwrite dataset info from restored data version.
2020-02-17 17:50:26 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-17 17:50:26 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-17 17:50:26 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-17 17:50:26 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-17 17:50:26 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-17 17:50:26 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-17 17:50:27 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-17 17:50:27 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-17 17:50:27 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-17 17:50:27 INFO: input shape: (5, 32, 32, 3)
2020-02-17 17:50:27 INFO: Scale of 0 disables regularizer.
2020-02-17 17:50:27 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-17 17:50:27 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-17 17:50:27 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-17 17:50:27 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-17 17:50:27 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-17 17:50:27 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-17 17:50:28 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-17 17:50:28 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-17 17:50:28 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-17 17:50:28 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-17 17:50:28 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-17 17:50:28 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-17 17:50:28 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-17 17:50:28 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-17 17:50:28 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-17 17:50:28 INFO: class_caps activation shape: (5, 10)
2020-02-17 17:50:29 INFO: class_caps pose shape: (5, 10, 16)
2020-02-17 17:50:29 INFO: name: 20191024_14:00:15:440334_
2020-02-17 17:50:29 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-17 17:50:29 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-17 17:50:29 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-17 17:50:29 INFO: Using dataset: cifar10
2020-02-17 17:50:29 INFO: BUILD TEST GRAPH
2020-02-17 17:50:29 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-17 17:50:29 INFO: Overwrite dataset info from restored data version.
2020-02-17 17:50:29 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-17 17:50:29 INFO: input shape: (5, 32, 32, 3)
2020-02-17 17:50:29 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-17 17:50:30 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-17 17:50:30 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-17 17:50:30 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-17 17:50:30 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-17 17:50:30 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-17 17:50:30 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-17 17:50:30 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-17 17:50:30 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-17 17:50:30 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-17 17:50:30 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-17 17:50:30 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-17 17:50:30 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-17 17:50:30 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-17 17:50:30 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-17 17:50:30 INFO: class_caps activation shape: (5, 10)
2020-02-17 17:50:30 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-17 17:50:30 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-17 17:50:30 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-17 17:50:30 INFO: input shape: (5, 32, 32, 3)
2020-02-17 17:50:31 INFO: Scale of 0 disables regularizer.
2020-02-17 17:50:31 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-17 17:50:31 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-17 17:50:31 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-17 17:50:31 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-17 17:50:31 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-17 17:50:31 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-17 17:50:31 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-17 17:50:31 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-17 17:50:31 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
ture version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-17 17:50:32 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-17 17:50:32 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-17 17:50:32 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-17 17:50:33 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-17 17:50:33 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-17 17:50:33 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-17 17:50:34 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-17 17:50:34 INFO: class_caps activation shape: (5, 10)
2020-02-17 17:50:35 INFO: class_caps pose shape: (5, 10, 16)
2020-02-17 17:50:35 INFO: input shape: (5, 32, 32, 3)
2020-02-17 17:50:36 INFO: Scale of 0 disables regularizer.
2020-02-17 17:50:36 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-17 17:50:37 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-17 17:50:37 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-17 17:50:37 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-17 17:50:37 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-17 17:50:37 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-17 17:50:38 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-17 17:50:38 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-17 17:50:38 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-17 17:50:38 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-17 17:50:39 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-17 17:50:39 INFO: class_caps activation shape: (5, 10)
2020-02-17 17:50:39 INFO: class_caps pose shape: (5, 10, 16)
2020-02-17 17:50:39 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-17 17:50:43 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-17 17:50:43 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-17 17:50:43 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-17 17:50:50 INFO: name: 20191024_14:00:15:440334_
2020-02-17 17:50:50 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-17 17:50:50 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-17 17:50:50 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-17 17:50:50 INFO: Using dataset: cifar10
2020-02-17 17:50:50 INFO: BUILD TEST GRAPH
2020-02-17 17:50:50 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-17 17:50:50 INFO: Overwrite dataset info from restored data version.
2020-02-17 17:50:51 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-17 17:50:51 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-17 17:50:52 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-17 17:50:52 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-17 17:50:52 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-17 17:50:53 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-17 17:50:53 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-17 17:50:53 INFO: input shape: (5, 32, 32, 3)
2020-02-17 17:50:53 INFO: Scale of 0 disables regularizer.
2020-02-17 17:50:53 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-17 17:50:54 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-17 17:50:54 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-17 17:50:54 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-17 17:50:54 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-17 17:50:54 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-17 17:50:55 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-17 17:50:55 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-17 17:50:55 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-17 17:50:55 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-17 17:50:55 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-17 17:50:56 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-17 17:50:56 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-17 17:50:56 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-17 17:50:56 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-17 17:50:56 INFO: class_caps activation shape: (5, 10)
2020-02-17 17:50:57 INFO: class_caps pose shape: (5, 10, 16)
2020-02-17 17:50:57 INFO: input shape: (5, 32, 32, 3)
2020-02-17 17:50:57 INFO: Scale of 0 disables regularizer.
2020-02-17 17:50:58 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-17 17:50:58 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-17 17:50:58 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-17 17:50:58 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-17 17:50:59 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-17 17:50:59 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-17 17:50:59 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-17 17:50:59 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-17 17:50:59 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-17 17:50:59 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-17 17:51:00 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-17 17:51:00 INFO: class_caps activation shape: (5, 10)
2020-02-17 17:51:00 INFO: class_caps pose shape: (5, 10, 16)
2020-02-17 17:51:01 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-17 17:51:07 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-17 17:51:07 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-17 17:51:08 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-17 18:53:49 INFO: writing to csv
2020-02-17 18:53:50 INFO: csv saved at logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test/logs_cifar10_bg0_adv_20_20200214_15_10_32_926600__train_saved_patch_png_test.csv
2020-02-17 18:54:36 INFO: writing to csv
2020-02-17 18:54:37 INFO: csv saved at logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test/logs_cifar10_bg0_adv_00_20200214_15_08_18_168464__train_saved_patch_png_test.csv
2020-02-17 18:55:11 INFO: writing to csv
2020-02-17 18:55:12 INFO: csv saved at logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test/logs_cifar10_bg0_adv_10_20200214_15_09_58_163363__train_saved_patch_png_test.csv
2020-02-17 18:55:27 INFO: writing to csv
2020-02-17 18:55:27 INFO: csv saved at logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test/logs_cifar10_bg0_adv_15_20200214_15_09_58_946257__train_saved_patch_png_test.csv
2020-02-17 19:50:18 INFO: writing to csv
2020-02-17 19:50:19 INFO: csv saved at logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test/logs_cifar10_bg0_adv_05_20200214_15_09_17_521681__train_saved_patch_png_test.csv
2020-02-20 16:29:29 INFO: name: 20191024_14:00:15:440334_
2020-02-20 16:29:29 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-20 16:29:29 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-20 16:29:29 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-20 16:29:29 INFO: Using dataset: cifar10
2020-02-20 16:29:29 INFO: BUILD TEST GRAPH
2020-02-20 16:29:29 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-20 16:29:29 INFO: Overwrite dataset info from restored data version.
2020-02-20 16:29:29 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-20 16:29:29 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-20 16:29:30 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-20 16:29:30 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-20 16:29:30 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-20 16:29:30 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-20 16:29:30 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-20 16:29:30 INFO: input shape: (5, 32, 32, 3)
2020-02-20 16:29:30 INFO: Scale of 0 disables regularizer.
2020-02-20 16:29:31 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-20 16:29:31 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-20 16:29:31 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-20 16:29:31 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-20 16:29:31 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-20 16:29:31 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-20 16:29:31 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-20 16:29:31 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-20 16:29:31 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-20 16:29:31 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-20 16:29:31 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-20 16:29:31 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-20 16:29:31 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-20 16:29:31 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-20 16:29:31 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-20 16:29:31 INFO: class_caps activation shape: (5, 10)
2020-02-20 16:29:31 INFO: class_caps pose shape: (5, 10, 16)
2020-02-20 16:29:31 INFO: input shape: (5, 32, 32, 3)
2020-02-20 16:29:31 INFO: Scale of 0 disables regularizer.
2020-02-20 16:29:31 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-20 16:29:31 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-20 16:29:31 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-20 16:29:31 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-20 16:29:32 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-20 16:29:32 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-20 16:29:32 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-20 16:29:32 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-20 16:29:32 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-20 16:29:32 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-20 16:29:32 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-20 16:29:32 INFO: class_caps activation shape: (5, 10)
2020-02-20 16:29:32 INFO: class_caps pose shape: (5, 10, 16)
2020-02-20 16:29:32 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-20 16:29:32 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-20 16:29:33 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-20 16:29:33 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-20 16:31:14 INFO: name: 20191024_14:00:15:440334_
2020-02-20 16:31:14 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-20 16:31:14 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-20 16:31:14 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-20 16:31:14 INFO: Using dataset: cifar10
2020-02-20 16:31:14 INFO: BUILD TEST GRAPH
2020-02-20 16:31:14 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-20 16:31:14 INFO: Overwrite dataset info from restored data version.
2020-02-20 16:31:14 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-20 16:31:14 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-20 16:31:14 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-20 16:31:14 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-20 16:31:14 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-20 16:31:14 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-20 16:31:14 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-20 16:31:14 INFO: input shape: (5, 32, 32, 3)
2020-02-20 16:31:14 INFO: Scale of 0 disables regularizer.
2020-02-20 16:31:15 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-20 16:31:15 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-20 16:31:15 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-20 16:31:15 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-20 16:31:15 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-20 16:31:15 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-20 16:31:15 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-20 16:31:15 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-20 16:31:15 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-20 16:31:15 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-20 16:31:15 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-20 16:31:15 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-20 16:31:15 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-20 16:31:15 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-20 16:31:15 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-20 16:31:15 INFO: class_caps activation shape: (5, 10)
2020-02-20 16:31:15 INFO: class_caps pose shape: (5, 10, 16)
2020-02-20 16:31:15 INFO: input shape: (5, 32, 32, 3)
2020-02-20 16:31:15 INFO: Scale of 0 disables regularizer.
2020-02-20 16:31:15 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-20 16:31:15 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-20 16:31:15 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-20 16:31:15 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-20 16:31:16 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-20 16:31:16 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-20 16:31:16 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-20 16:31:16 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-20 16:31:16 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-20 16:31:16 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-20 16:31:16 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-20 16:31:16 INFO: class_caps activation shape: (5, 10)
2020-02-20 16:31:16 INFO: class_caps pose shape: (5, 10, 16)
2020-02-20 16:31:16 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-20 16:31:17 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-20 16:31:17 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-20 16:31:17 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-20 16:32:13 INFO: name: 20191024_14:00:15:440334_
2020-02-20 16:32:13 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-20 16:32:13 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-20 16:32:13 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-20 16:32:14 INFO: Using dataset: cifar10
2020-02-20 16:32:14 INFO: BUILD TEST GRAPH
2020-02-20 16:32:14 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-20 16:32:14 INFO: Overwrite dataset info from restored data version.
2020-02-20 16:32:14 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-20 16:32:14 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-20 16:32:14 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-20 16:32:14 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-20 16:32:14 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-20 16:32:14 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-20 16:32:14 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-20 16:32:14 INFO: input shape: (5, 32, 32, 3)
2020-02-20 16:32:14 INFO: Scale of 0 disables regularizer.
2020-02-20 16:32:15 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-20 16:32:15 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-20 16:32:15 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-20 16:32:15 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-20 16:32:15 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-20 16:32:15 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-20 16:32:15 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-20 16:32:15 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-20 16:32:15 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-20 16:32:15 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-20 16:32:15 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-20 16:32:15 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-20 16:32:15 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-20 16:32:15 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-20 16:32:15 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-20 16:32:15 INFO: class_caps activation shape: (5, 10)
2020-02-20 16:32:15 INFO: class_caps pose shape: (5, 10, 16)
2020-02-20 16:32:16 INFO: input shape: (5, 32, 32, 3)
2020-02-20 16:32:16 INFO: Scale of 0 disables regularizer.
2020-02-20 16:32:16 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-20 16:32:16 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-20 16:32:16 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-20 16:32:16 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-20 16:32:16 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-20 16:32:16 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-20 16:32:16 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-20 16:32:16 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-20 16:32:16 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-20 16:32:16 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-20 16:32:16 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-20 16:32:16 INFO: class_caps activation shape: (5, 10)
2020-02-20 16:32:16 INFO: class_caps pose shape: (5, 10, 16)
2020-02-20 16:32:16 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-20 16:32:17 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-20 16:32:17 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-20 16:32:17 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-20 16:33:07 INFO: name: 20191024_14:00:15:440334_
2020-02-20 16:33:07 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-20 16:33:07 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-20 16:33:07 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-20 16:33:07 INFO: Using dataset: cifar10
2020-02-20 16:33:07 INFO: BUILD TEST GRAPH
2020-02-20 16:33:07 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-20 16:33:07 INFO: Overwrite dataset info from restored data version.
2020-02-20 16:33:07 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-20 16:33:07 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-20 16:33:08 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-20 16:33:08 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-20 16:33:08 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-20 16:33:08 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-20 16:33:08 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-20 16:33:08 INFO: input shape: (5, 32, 32, 3)
2020-02-20 16:33:08 INFO: Scale of 0 disables regularizer.
2020-02-20 16:33:08 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-20 16:33:09 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-20 16:33:09 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-20 16:33:09 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-20 16:33:09 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-20 16:33:09 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-20 16:33:09 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-20 16:33:09 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-20 16:33:09 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-20 16:33:09 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-20 16:33:09 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-20 16:33:09 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-20 16:33:09 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-20 16:33:09 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-20 16:33:09 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-20 16:33:09 INFO: class_caps activation shape: (5, 10)
2020-02-20 16:33:09 INFO: class_caps pose shape: (5, 10, 16)
2020-02-20 16:33:10 INFO: input shape: (5, 32, 32, 3)
2020-02-20 16:33:10 INFO: Scale of 0 disables regularizer.
2020-02-20 16:33:10 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-20 16:33:10 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-20 16:33:10 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-20 16:33:10 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-20 16:33:10 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-20 16:33:10 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-20 16:33:10 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-20 16:33:10 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-20 16:33:10 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-20 16:33:10 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-20 16:33:10 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-20 16:33:10 INFO: class_caps activation shape: (5, 10)
2020-02-20 16:33:10 INFO: class_caps pose shape: (5, 10, 16)
2020-02-20 16:33:10 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-20 16:33:11 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-20 16:33:12 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-20 16:33:12 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-20 16:33:19 INFO: name: 20191024_14:00:15:440334_
2020-02-20 16:33:19 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-20 16:33:19 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-20 16:33:19 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-20 16:33:19 INFO: Using dataset: cifar10
2020-02-20 16:33:19 INFO: BUILD TEST GRAPH
2020-02-20 16:33:19 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-20 16:33:19 INFO: Overwrite dataset info from restored data version.
2020-02-20 16:33:19 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-20 16:33:19 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-20 16:33:19 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-20 16:33:19 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-20 16:33:19 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-20 16:33:19 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-20 16:33:19 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-20 16:33:19 INFO: input shape: (5, 32, 32, 3)
2020-02-20 16:33:19 INFO: Scale of 0 disables regularizer.
2020-02-20 16:33:20 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-20 16:33:20 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-20 16:33:20 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-20 16:33:20 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-20 16:33:20 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-20 16:33:20 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-20 16:33:20 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-20 16:33:20 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-20 16:33:20 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-20 16:33:20 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-20 16:33:20 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-20 16:33:20 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-20 16:33:20 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-20 16:33:20 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-20 16:33:20 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-20 16:33:21 INFO: class_caps activation shape: (5, 10)
2020-02-20 16:33:21 INFO: class_caps pose shape: (5, 10, 16)
2020-02-20 16:33:21 INFO: input shape: (5, 32, 32, 3)
2020-02-20 16:33:21 INFO: Scale of 0 disables regularizer.
2020-02-20 16:33:21 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-20 16:33:21 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-20 16:33:21 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-20 16:33:21 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-20 16:33:21 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-20 16:33:21 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-20 16:33:21 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-20 16:33:21 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-20 16:33:21 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-20 16:33:21 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-20 16:33:22 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-20 16:33:22 INFO: class_caps activation shape: (5, 10)
2020-02-20 16:33:22 INFO: class_caps pose shape: (5, 10, 16)
2020-02-20 16:33:22 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-20 16:33:22 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-20 16:33:23 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-20 16:33:23 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-20 16:34:54 INFO: name: 20191024_14:00:15:440334_
2020-02-20 16:34:54 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-20 16:34:54 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-20 16:34:54 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-20 16:34:54 INFO: Using dataset: cifar10
2020-02-20 16:34:54 INFO: BUILD TEST GRAPH
2020-02-20 16:34:54 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-20 16:34:54 INFO: Overwrite dataset info from restored data version.
2020-02-20 16:34:54 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-20 16:34:54 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-20 16:34:55 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-20 16:34:55 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-20 16:34:55 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-20 16:34:55 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-20 16:34:55 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-20 16:34:55 INFO: input shape: (5, 32, 32, 3)
2020-02-20 16:34:55 INFO: Scale of 0 disables regularizer.
2020-02-20 16:34:55 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-20 16:34:55 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-20 16:34:55 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-20 16:34:55 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-20 16:34:56 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-20 16:34:56 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-20 16:34:56 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-20 16:34:56 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-20 16:34:56 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-20 16:34:56 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-20 16:34:56 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-20 16:34:56 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-20 16:34:56 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-20 16:34:56 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-20 16:34:56 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-20 16:34:56 INFO: class_caps activation shape: (5, 10)
2020-02-20 16:34:56 INFO: class_caps pose shape: (5, 10, 16)
2020-02-20 16:34:57 INFO: input shape: (5, 32, 32, 3)
2020-02-20 16:34:57 INFO: Scale of 0 disables regularizer.
2020-02-20 16:34:57 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-20 16:34:57 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-20 16:34:57 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-20 16:34:57 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-20 16:34:57 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-20 16:34:57 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-20 16:34:57 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-20 16:34:57 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-20 16:34:57 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-20 16:34:57 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-20 16:34:57 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-20 16:34:57 INFO: class_caps activation shape: (5, 10)
2020-02-20 16:34:57 INFO: class_caps pose shape: (5, 10, 16)
2020-02-20 16:34:57 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-20 16:34:58 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-20 16:34:58 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-20 16:34:58 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-20 16:36:52 INFO: name: 20191024_14:00:15:440334_
2020-02-20 16:36:53 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-20 16:36:53 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-20 16:36:53 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-20 16:36:53 INFO: Using dataset: cifar10
2020-02-20 16:36:53 INFO: BUILD TEST GRAPH
2020-02-20 16:36:53 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-20 16:36:53 INFO: Overwrite dataset info from restored data version.
2020-02-20 16:36:53 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-20 16:36:53 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-20 16:36:54 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-20 16:36:54 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-20 16:36:54 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-20 16:36:54 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-20 16:36:54 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-20 16:36:54 INFO: input shape: (5, 32, 32, 3)
2020-02-20 16:36:54 INFO: Scale of 0 disables regularizer.
2020-02-20 16:36:54 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-20 16:36:54 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-20 16:36:54 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-20 16:36:54 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-20 16:36:54 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-20 16:36:54 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-20 16:36:54 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-20 16:36:54 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-20 16:36:54 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-20 16:36:54 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-20 16:36:54 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-20 16:36:55 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-20 16:36:55 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-20 16:36:55 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-20 16:36:55 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-20 16:36:55 INFO: class_caps activation shape: (5, 10)
2020-02-20 16:36:55 INFO: class_caps pose shape: (5, 10, 16)
2020-02-20 16:36:55 INFO: input shape: (5, 32, 32, 3)
2020-02-20 16:36:55 INFO: Scale of 0 disables regularizer.
2020-02-20 16:36:55 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-20 16:36:55 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-20 16:36:55 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-20 16:36:55 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-20 16:36:55 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-20 16:36:55 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-20 16:36:55 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-20 16:36:56 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-20 16:36:56 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-20 16:36:56 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-20 16:36:56 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-20 16:36:56 INFO: class_caps activation shape: (5, 10)
2020-02-20 16:36:56 INFO: class_caps pose shape: (5, 10, 16)
2020-02-20 16:36:56 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-20 16:36:56 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-20 16:36:57 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-20 16:36:57 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-20 16:37:10 INFO: name: 20191024_14:00:15:440334_
2020-02-20 16:37:10 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-20 16:37:10 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-20 16:37:10 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-20 16:37:10 INFO: Using dataset: cifar10
2020-02-20 16:37:11 INFO: BUILD TEST GRAPH
2020-02-20 16:37:11 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-20 16:37:11 INFO: Overwrite dataset info from restored data version.
2020-02-20 16:37:11 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-20 16:37:11 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-20 16:37:11 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-20 16:37:11 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-20 16:37:11 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-20 16:37:11 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-20 16:37:11 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-20 16:37:11 INFO: input shape: (5, 32, 32, 3)
2020-02-20 16:37:11 INFO: Scale of 0 disables regularizer.
2020-02-20 16:37:11 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-20 16:37:12 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-20 16:37:12 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-20 16:37:12 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-20 16:37:12 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-20 16:37:12 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-20 16:37:12 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-20 16:37:12 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-20 16:37:12 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-20 16:37:12 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-20 16:37:12 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-20 16:37:12 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-20 16:37:12 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-20 16:37:12 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-20 16:37:12 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-20 16:37:12 INFO: class_caps activation shape: (5, 10)
2020-02-20 16:37:12 INFO: class_caps pose shape: (5, 10, 16)
2020-02-20 16:37:13 INFO: input shape: (5, 32, 32, 3)
2020-02-20 16:37:13 INFO: Scale of 0 disables regularizer.
2020-02-20 16:37:13 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-20 16:37:13 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-20 16:37:13 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-20 16:37:13 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-20 16:37:13 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-20 16:37:13 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-20 16:37:13 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-20 16:37:13 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-20 16:37:13 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-20 16:37:13 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-20 16:37:13 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-20 16:37:14 INFO: class_caps activation shape: (5, 10)
2020-02-20 16:37:14 INFO: class_caps pose shape: (5, 10, 16)
2020-02-20 16:37:14 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-20 16:37:14 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-20 16:37:14 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-20 16:37:14 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-20 16:37:52 INFO: name: 20191024_14:00:15:440334_
2020-02-20 16:37:52 INFO: parent_dir: logs/cifar10/bg_recon_0
2020-02-20 16:37:52 INFO: test_dir: logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test
2020-02-20 16:37:52 INFO: Loaded parameters from file: /home/xxd9704/Workspace/matrix-capsules-with-em-routing/logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/params/params.json
2020-02-20 16:37:52 INFO: Using dataset: cifar10
2020-02-20 16:37:52 INFO: BUILD TEST GRAPH
2020-02-20 16:37:53 WARNING: From inspect_results.py:91: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

2020-02-20 16:37:53 INFO: Overwrite dataset info from restored data version.
2020-02-20 16:37:53 INFO: Reusing dataset cifar10 (/home/xxd9704/tensorflow_datasets/cifar10/1.0.2)
2020-02-20 16:37:53 INFO: Constructing tf.data.Dataset for split test, from /home/xxd9704/tensorflow_datasets/cifar10/1.0.2
2020-02-20 16:37:53 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/data_pipelines/cifar10.py:23: DatasetV1.make_one_shot_iterator (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `for ... in dataset:` to iterate over a dataset. If using `tf.estimator`, return the `Dataset` object directly from your input function. As a last resort, you can use `tf.compat.v1.data.make_one_shot_iterator(dataset)`.
2020-02-20 16:37:53 WARNING: From inspect_results.py:126: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2020-02-20 16:37:53 WARNING: From inspect_results.py:306: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

2020-02-20 16:37:53 WARNING: From inspect_results.py:306: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

2020-02-20 16:37:54 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/adv_patch_train_val.py:806: py_func (from tensorflow.python.ops.script_ops) is deprecated and will be removed in a future version.
Instructions for updating:
tf.py_func is deprecated in TF V2. Instead, there are two
    options available in V2.
    - tf.py_function takes a python function which manipulates tf eager
    tensors instead of numpy arrays. It's easy to convert a tf eager tensor to
    an ndarray (just call tensor.numpy()) but having access to eager tensors
    means `tf.py_function`s can use accelerators such as GPUs as well as
    being differentiable using a gradient tape.
    - tf.numpy_function maintains the semantics of the deprecated tf.py_func
    (it is not differentiable, and manipulates numpy arrays). It drops the
    stateful argument making all functions stateful.
    
2020-02-20 16:37:54 INFO: input shape: (5, 32, 32, 3)
2020-02-20 16:37:54 INFO: Scale of 0 disables regularizer.
2020-02-20 16:37:54 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-20 16:37:54 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-20 16:37:54 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-20 16:37:54 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/models.py:116: The name tf.summary.histogram is deprecated. Please use tf.compat.v1.summary.histogram instead.

2020-02-20 16:37:54 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-20 16:37:54 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/em_routing.py:347: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Deprecated in favor of operator or tf.math.divide.
2020-02-20 16:37:54 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:383: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
2020-02-20 16:37:54 WARNING: From /home/xxd9704/Workspace/matrix-capsules-with-em-routing/utils.py:570: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
2020-02-20 16:37:54 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-20 16:37:54 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-20 16:37:54 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-20 16:37:54 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-20 16:37:54 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-20 16:37:54 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-20 16:37:54 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-20 16:37:54 INFO: class_caps activation shape: (5, 10)
2020-02-20 16:37:54 INFO: class_caps pose shape: (5, 10, 16)
2020-02-20 16:37:55 INFO: input shape: (5, 32, 32, 3)
2020-02-20 16:37:55 INFO: Scale of 0 disables regularizer.
2020-02-20 16:37:55 INFO: relu_conv1 output shape: (5, 16, 16, 128)
2020-02-20 16:37:55 INFO: primary_caps pose shape: (5, 16, 16, 24, 16)
2020-02-20 16:37:55 INFO: primary_caps activation shape (5, 16, 16, 24, 1)
2020-02-20 16:37:55 INFO: lyr.conv_caps1 votes shape: (245, 216, 24, 16)
2020-02-20 16:37:55 INFO: lyr.conv_caps1 pose_out shape: (5, 7, 7, 24, 16)
2020-02-20 16:37:55 INFO: lyr.conv_caps1 activation_out shape: (5, 7, 7, 24, 1)
2020-02-20 16:37:55 INFO: lyr.conv_caps2 votes shape: (125, 216, 32, 16)
2020-02-20 16:37:55 INFO: lyr.conv_caps2 pose_out shape: (5, 5, 5, 32, 16)
2020-02-20 16:37:55 INFO: lyr.conv_caps2 activation_out shape: (5, 5, 5, 32, 1)
2020-02-20 16:37:55 INFO: class_caps votes original shape: (125, 32, 10, 16)
2020-02-20 16:37:55 INFO: class_caps votes in to routing shape: (5, 800, 10, 16)
2020-02-20 16:37:55 INFO: class_caps activation shape: (5, 10)
2020-02-20 16:37:55 INFO: class_caps pose shape: (5, 10, 16)
2020-02-20 16:37:55 WARNING: From inspect_results.py:171: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2020-02-20 16:37:56 WARNING: From inspect_results.py:193: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.

2020-02-20 16:37:56 WARNING: From /home/xxd9704/anaconda3/envs/capsenv/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2020-02-20 16:37:56 INFO: Restoring parameters from logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/train/checkpoint/model.ckpt-178125
2020-02-20 17:36:14 INFO: writing to csv
2020-02-20 17:36:15 INFO: csv saved at logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test/logs_cifar10_bg0_adv_30_20200214_15_11_11_714524__train_saved_patch_png_test.csv
2020-02-20 17:37:40 INFO: writing to csv
2020-02-20 17:37:40 INFO: csv saved at logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test/logs_cifar10_bg0_adv_35_20200214_15_11_02_081747__train_saved_patch_png_test.csv
2020-02-20 17:38:14 INFO: writing to csv
2020-02-20 17:38:15 INFO: csv saved at logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test/logs_cifar10_bg0_adv_4_20200214_15_11_02_033024__train_saved_patch_png_test.csv
2020-02-20 17:39:02 INFO: writing to csv
2020-02-20 17:39:02 INFO: csv saved at logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test/logs_cifar10_bg0_adv_45_20200214_15_12_01_645207__train_saved_patch_png_test.csv
2020-02-20 17:40:33 INFO: writing to csv
2020-02-20 17:40:34 INFO: csv saved at logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test/logs_cifar10_bg0_adv_50_20200214_15_12_30_445603__train_saved_patch_png_test.csv
2020-02-20 17:41:42 INFO: writing to csv
2020-02-20 17:41:43 INFO: csv saved at logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test/logs_cifar10_bg0_adv_ten_20200214_15_52_25_272192__train_saved_patch_png_test.csv
2020-02-20 17:42:07 INFO: writing to csv
2020-02-20 17:42:07 INFO: csv saved at logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test/logs_cifar10_bg0_adv_hund_20200214_15_52_25_280283__train_saved_patch_png_test.csv
2020-02-20 17:42:33 INFO: writing to csv
2020-02-20 17:42:33 INFO: csv saved at logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test/logs_cifar10_bg0_adv_thou_20200214_15_54_40_388989__train_saved_patch_png_test.csv
2020-02-20 18:40:13 INFO: writing to csv
2020-02-20 18:40:14 INFO: csv saved at logs/cifar10/bg_recon_0/20191024_14:00:15:440334_/test/logs_cifar10_bg0_adv_25_20200214_15_10_31_178573__train_saved_patch_png_test.csv
